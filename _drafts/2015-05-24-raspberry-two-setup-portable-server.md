---
layout: howto
title: Raspberry 2 - Setup Portable Server
description: "Ecco la configurazione del raspberry usato durante la bottega del 24 maggio 2015"
modified: 2054-05-24
author: yoghi
category: articles
tags: [bitprepared,stage,specializzazioni,raspberry,howto]
image:
  feature: ???????
  credit: Bit Prepared
  creditlink: http://www.bitprepared.it
comments: false
share: true
---


~~~
sudo apt-get install hostapd iw wireless-tools usbutils firmware-atheros 
sudo nano /etc/hostapd/hostapd.conf
~~~

Il contenuto di **/etc/hostapd/hostapd.conf**

~~~
interface=wlan0
driver=nl80211
ssid=BitPrepared
hw_mode=g
channel=6
macaddr_acl=0
auth_algs=1
ignore_broadcast_ssid=0
wpa=2
wpa_passphrase=costigiola
wpa_key_mgmt=WPA-PSK
wpa_pairwise=TKIP
rsn_pairwise=CCMP
country_code=IT
~~~

~~~
sudo nano /etc/sysctl.conf
~~~

enable **net.ipv4.ip_forward=1**

~~~
sh -c "echo 1 > /proc/sys/net/ipv4/ip_forward"

sudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
sudo iptables -A FORWARD -i eth0 -o wlan0 -m state --state RELATED,ESTABLISHED -j ACCEPT
sudo iptables -A FORWARD -i wlan0 -o eth0 -j ACCEPT
sudo sh -c "iptables-save > /etc/iptables.ipv4.nat"

sudo nano /etc/network/interfaces
~~~

Il contentuo **/etc/network/interfaces**

~~~
auto lo

iface lo inet loopback
iface eth0 inet dhcp

allow-hotplug wlan0
iface wlan0 inet static
	address 192.168.1.1
	netmask 255.255.255.0
#wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf

iface default inet dhcp
pre-up iptables-restore < /etc/iptables.ipv4.nat
~~~

Per sistemare problemi di locale: 

~~~
nano /etc/default/locale
~~~

Il contenuto di **/etc/default/locale**

~~~
#  File generated by update-locale
LANGUAGE=it_IT.UTF-8
LANG=it_IT.UTF-8
LC_ALL=it_IT.UTF-8
~~~

~~~
locale-gen -a
dpkg-reconfigure locales
~~~

Per l'operativitÃ 

~~~
sudo apt-get install nodejs gcc rubygems libmysqlclient-dev ruby-dev 

\curl -sSL https://get.rvm.io | bash -s stable

source /etc/profile.d/rvm.sh

rvm requirements

rvm install 2.2.2

gem install jekyll
~~~



